(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers,this._authorization=e.headers.authorization}var r,n;return r=t,(n=[{key:"_checkRes",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status,"."))}},{key:"getProfileInfo",value:function(){var t=this;return fetch("".concat(this._url,"/users/me"),{headers:{authorization:this._authorization}}).then((function(e){return t._checkRes(e)})).catch((function(t){return console.log(t)}))}},{key:"getCards",value:function(){var t=this;return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._authorization}}).then((function(e){return t._checkRes(e)})).catch((function(t){return console.log(t)}))}},{key:"patchProfileInfo",value:function(t){var e=this,r=t.name,n=t.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:r,about:n})}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}},{key:"patchAvatar",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.avatar})}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}},{key:"postNewCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}},{key:"deleteCardApi",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}},{key:"likeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}},{key:"removeLikeCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return e._checkRes(t)})).catch((function(t){return console.log(t)}))}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e){var r=e.data,n=e.handleCardClick,o=e.handleDeleteCard,i=e.handleLikeCard,u=e.handleRemoveCardLike,a=e.templateSelector,c=e.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=a,this._handleCardClick=n,this._handleLikeCard=i,this._likesNumber=r.likes.length,this._handleDeleteCard=o,this._handleRemoveCardLike=u,this.cardData=r,this.idCard=r._id,this._name=r.name,this._link=r.link,this._dataLikes=r.likes,this._idUserCard=r.owner._id,this._userId=c}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this.cardElement=this._getTemplate(),this._cardElementTitle=this.cardElement.querySelector(".element__title"),this._cardElementPicture=this.cardElement.querySelector(".element__picture"),this._cardElementLike=this.cardElement.querySelector(".element__like"),this._cardElementLikesNumber=this.cardElement.querySelector(".element__likes-number"),this._cardElementDelete=this.cardElement.querySelector(".element__delete"),this._cardElementTitle.textContent=this._name,this._cardElementPicture.src=this._link,this._cardElementPicture.alt=this._name,this.renderLikes(this.cardData),this._idUserCard!==this._userId&&this._cardElementDelete.remove(),this._setEventListeners(),this.cardElement}},{key:"isLiked",value:function(){var t=this;return this._dataLikes.some((function(e){return e._id===t._userId}))}},{key:"likePhoto",value:function(){this.isLiked()?this._handleRemoveCardLike(this.idCard):this._handleLikeCard(this.idCard)}},{key:"renderLikes",value:function(t){this._dataLikes=t.likes,0===this._dataLikes.length?this._cardElementLikesNumber.textContent="0":this._cardElementLikesNumber.textContent=this._dataLikes.length,this.isLiked()?this._cardElementLike.classList.add("element__like_active"):this._cardElementLike.classList.remove("element__like_active")}},{key:"deleteCard",value:function(){this.cardElement.remove(),this.cardElement=null}},{key:"_setEventListeners",value:function(){var t=this;this._cardElementLike.addEventListener("click",(function(){return t.likePhoto()})),this._cardElementDelete.addEventListener("click",(function(){return t._handleDeleteCard(t,t.idCard)})),this._cardElementPicture.addEventListener("click",(function(){return t._handleCardClick()}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}var c=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=r,this._formSelector=e.formSelector,this._error=e.error,this._inputErrorClass=e.inputErrorClass,this._inactiveButtonClass=e.inactiveButtonClass,this._submitButtonSelector=e.submitButtonSelector,this._inputSelector=e.inputSelector,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonElement=this._form.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t){this._form.querySelector(".".concat(t.id,"-error")).textContent=t.validationMessage,t.classList.add(this._inputErrorClass),t.classList.add(this._error)}},{key:"_hideInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),t.classList.remove(this._error),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.classList.add(this._inactiveButtonClass):this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._toggleButtonState(),t._checkInputValidity(e)}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var f=function(){function t(e,r){var n=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=n,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderContent",value:function(t,e){var r=this;t.forEach((function(t){r._renderer(t,e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}var y=function(){function t(e){var r=e.selectorUserName,n=e.selectorUserDescription,o=e.selectorUserAvatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._profileName=document.querySelector(r),this._profileDescription=document.querySelector(n),this._profileAvatar=document.querySelector(o)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,about:this._profileDescription.textContent}}},{key:"setUserInfo",value:function(t){this._profileName.textContent=t.name,this._profileDescription.textContent=t.about}},{key:"setUserAvatar",value:function(t){this._profileAvatar.src=t.avatar}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===d(o)?o:String(o)),n)}var o}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._buttonClose=this._popup.querySelector(".popup__button_act_exit")}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._buttonClose.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){e.target===e.currentTarget&&t.close()}))}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},S.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function w(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(n);if(o){var r=E(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}(this,t)});function u(t,e){var r,n,o,a,c=e.submitCallback,l=e.submitCallbackText;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=g(r=i.call(this,t)),a=function(t){r._inputList.forEach((function(e,r){e.value=Object.values(t)[r]}))},(o=w(o="setInputValues"))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,r._submitCallback=function(){r.renderLoading(!0,l),c.apply(void 0,arguments).finally((function(){return r.renderLoading(!1)}))},r._formSubmit=r._popup.querySelector(".popup__form"),r._inputList=Array.from(r._formSubmit.querySelectorAll(".popup__input")),r._submitBtn=r._formSubmit.querySelector(".popup__button_act_submit"),r._submitBtnText=r._submitBtn.textContent,r}return e=u,r=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputList.forEach((function(e){t._inputValues[e.name]=e.value})),this._inputValues}},{key:"close",value:function(){this._formSubmit.reset(),S(E(u.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Сохранение...";this._submitBtn.textContent=t?e:this._submitBtnText}},{key:"setEventListeners",value:function(){var t=this;S(E(u.prototype),"setEventListeners",this).call(this),this._formSubmit.addEventListener("submit",(function(e){e.preventDefault(),t._submitCallback(t._getInputValues())}))}}],r&&_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},L.apply(this,arguments)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(n);if(o){var r=R(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._photoCard=e._popup.querySelector(".popup__photo-link"),e._textCard=e._popup.querySelector(".popup__photo-name"),e}return e=u,(r=[{key:"open",value:function(t){L(R(u.prototype),"open",this).call(this),this._photoCard.src=t.link,this._textCard.textContent=t.name,this._photoCard.alt=t.name}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===I(o)?o:String(o)),n)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r,n=e.submitCallback;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._submitCallback=n,r._buttonSubmit=r._popup.querySelector(".popup__button_act_submit"),r}return e=u,(r=[{key:"openWarning",value:function(t,e){A(B(u.prototype),"open",this).call(this),this.id=e,this.card=t}},{key:"setEventListeners",value:function(){var t=this;A(B(u.prototype),"setEventListeners",this).call(this),this._buttonSubmit.addEventListener("click",(function(){t._submitCallback(t.id,t.card)}))}}])&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(v);function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N,V=document.querySelector(".profile__button_act_edit"),z=document.querySelector(".profile__button_act_add"),J=document.querySelector(".profile__avatar"),H=new r({url:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{"Content-Type":"application/json",authorization:"d1d57a13-4584-442b-a02a-78fc4756e763"}});Promise.all([H.getProfileInfo(),H.getCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];N=o._id,F.setUserInfo(o),F.setUserAvatar(o),$.renderContent(i,N)})).catch((function(t){return console.log(t)}));var M=new T(".popup_type_photo"),W=function(t,e){var r=new i({data:t,userId:e,templateSelector:".elements-template",handleCardClick:function(){M.open(t)},handleLikeCard:function(t){H.likeCard(t).then((function(t){r.renderLikes(t)})).catch((function(t){return console.log(t)}))},handleRemoveCardLike:function(t){H.removeLikeCard(t).then((function(t){r.renderLikes(t)})).catch((function(t){return console.log(t)}))},handleDeleteCard:function(t,e){X.openWarning(t,e)}});return r.generateCard()},$=new f({renderer:function(t,e){$.addItem(W(t,e))}},".elements"),F=new y({selectorUserName:".profile__name",selectorUserDescription:".profile__description",selectorUserAvatar:".profile__photo"}),G=new C(".popup_edit_profile",{submitCallback:function(t){return H.patchProfileInfo(t).then((function(t){F.setUserInfo(t),G.close()})).catch((function(t){return console.log(t)}))}});V.addEventListener("click",(function(){G.open(),G.setInputValues(F.getUserInfo()),Z["form-profile"].resetValidation()}));var K=new C(".popup_add_photo",{submitCallback:function(t){return H.postNewCard(t).then((function(t){$.addItem(W(t,N)),K.close()})).catch((function(t){return console.log(t)}))}});z.addEventListener("click",(function(){K.open(),Z["form-photo"].resetValidation()}));var Q=new C(".popup_edit_avatar",{submitCallback:function(t){return H.patchAvatar(t).then((function(t){F.setUserAvatar(t),Q.close()})).catch((function(t){return console.log(t)}))}});J.addEventListener("click",(function(){Q.open(),Z["form-avatar"].resetValidation()}));var X=new D(".popup_delete_photo",{submitCallback:function(t,e){H.deleteCardApi(t).then((function(){e.deleteCard(),X.close()})).catch((function(t){return console.log(t)}))}});M.setEventListeners(),G.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),X.setEventListeners();var Y,Z={};Y={formSelector:".form",inputSelector:".popup__input",submitButtonSelector:".popup__button_act_submit",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active",error:".popup__item-error"},Array.from(document.querySelectorAll(Y.formSelector)).forEach((function(t){var e=new c(Y,t),r=t.getAttribute("name");Z[r]=e,e.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBjb25maWcuaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl07XG4gIH1cblxuICBfY2hlY2tSZXMocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9LmApO1xuICB9XG5cbiAgZ2V0UHJvZmlsZUluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1JlcyhyZXMpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgZ2V0Q2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1JlcyhyZXMpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgcGF0Y2hQcm9maWxlSW5mbyh7bmFtZSwgYWJvdXR9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsIGFib3V0XG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXMocmVzKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHBhdGNoQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXMocmVzKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHBvc3ROZXdDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1JlcyhyZXMpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZEFwaShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1JlcyhyZXMpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXMocmVzKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzKHJlcykpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXG4gICAgaGFuZGxlTGlrZUNhcmQsXG4gICAgaGFuZGxlUmVtb3ZlQ2FyZExpa2UsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICB1c2VySWQsXG4gIH0pIHtcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcbiAgICB0aGlzLl9saWtlc051bWJlciA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmRMaWtlID0gaGFuZGxlUmVtb3ZlQ2FyZExpa2U7XG4gICAgdGhpcy5jYXJkRGF0YSA9IGRhdGE7XG4gICAgdGhpcy5pZENhcmQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fZGF0YUxpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZFVzZXJDYXJkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFRpdGxlID1cbiAgICAgIHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFBpY3R1cmUgPVxuICAgICAgdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3BpY3R1cmVcIik7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRMaWtlID0gdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIik7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRMaWtlc051bWJlciA9IHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRfX2xpa2VzLW51bWJlclwiXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudERlbGV0ZSA9XG4gICAgICB0aGlzLmNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRQaWN0dXJlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRQaWN0dXJlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLnJlbmRlckxpa2VzKHRoaXMuY2FyZERhdGEpO1xuXG4gICAgaWYgKHRoaXMuX2lkVXNlckNhcmQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fY2FyZEVsZW1lbnREZWxldGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLmNhcmRFbGVtZW50O1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YUxpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICB9XG5cbiAgbGlrZVBob3RvKCkge1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZExpa2UodGhpcy5pZENhcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCh0aGlzLmlkQ2FyZCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyTGlrZXMoY2FyZCkge1xuICAgIHRoaXMuX2RhdGFMaWtlcyA9IGNhcmQubGlrZXM7XG5cbiAgICBpZiAodGhpcy5fZGF0YUxpa2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRMaWtlc051bWJlci50ZXh0Q29udGVudCA9IFwiMFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jYXJkRWxlbWVudExpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YUxpa2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50TGlrZS5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50TGlrZS5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLmNhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50TGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5saWtlUGhvdG8oKSk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnREZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcywgdGhpcy5pZENhcmQpKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2Vycm9yID0gY29uZmlnLmVycm9yO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvcik7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckNvbnRlbnQoaXRlbXMsIHVzZXIpIHtcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSwgdXNlcik7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBzZWxlY3RvclVzZXJOYW1lLCBzZWxlY3RvclVzZXJEZXNjcmlwdGlvbiwgc2VsZWN0b3JVc2VyQXZhdGFyIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VyTmFtZSk7XG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclVzZXJEZXNjcmlwdGlvbik7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JVc2VyQXZhdGFyKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQsXG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKHVybCkge1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gdXJsLmF2YXRhcjtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9idXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbl9hY3RfZXhpdFwiKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2J1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCwgeyBzdWJtaXRDYWxsYmFjaywgc3VibWl0Q2FsbGJhY2tUZXh0IH0pIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9ICguLi5hcmdzKSA9PiB7XG4gICAgICB0aGlzLnJlbmRlckxvYWRpbmcodHJ1ZSwgc3VibWl0Q2FsbGJhY2tUZXh0KTtcbiAgICAgIHN1Ym1pdENhbGxiYWNrKC4uLmFyZ3MpLmZpbmFsbHkoKCkgPT4gdGhpcy5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG4gICAgfTtcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxuICAgICk7XG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fZm9ybVN1Ym1pdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX2J1dHRvbl9hY3Rfc3VibWl0XCJcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ0blRleHQgPSB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCwgaSkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBPYmplY3QudmFsdWVzKGRhdGEpW2ldO1xuICAgIH0pO1xuICB9O1xuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKSB7XG4gICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gaXNMb2FkaW5nID8gbG9hZGluZ1RleHQgOiB0aGlzLl9zdWJtaXRCdG5UZXh0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Bob3RvQ2FyZCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tbGluaycpO1xuICAgIHRoaXMuX3RleHRDYXJkID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1uYW1lJyk7XG4gIH1cbiAgb3BlbihjYXJkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3Bob3RvQ2FyZC5zcmMgPSBjYXJkLmxpbms7XG4gICAgdGhpcy5fdGV4dENhcmQudGV4dENvbnRlbnQgPSBjYXJkLm5hbWU7XG4gICAgdGhpcy5fcGhvdG9DYXJkLmFsdCA9IGNhcmQubmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXAsIHsgc3VibWl0Q2FsbGJhY2sgfSkge1xuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xuICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b25fYWN0X3N1Ym1pdCcpO1xuICB9XG5cbiAgb3Blbldhcm5pbmcoY2FyZEVsZW1lbnQsIGlkQ2FyZCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLmlkID0gaWRDYXJkO1xuICAgIHRoaXMuY2FyZCA9IGNhcmRFbGVtZW50O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLmlkLCB0aGlzLmNhcmQpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IGZvcm1WYWxpZGF0aW9uLCBhcGlSZXMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhEZWxldGUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG5jb25zdCBidXR0b25FZGl0T3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uX2FjdF9lZGl0XCIpO1xuY29uc3QgYnV0dG9uQWRkT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uX2FjdF9hZGRcIik7XG5jb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xubGV0IGN1cnJlbnRVc2VySWQ7XG5cbmNvbnN0IGluZGV4QXBpID0gbmV3IEFwaShhcGlSZXMpO1xuXG5Qcm9taXNlLmFsbChbaW5kZXhBcGkuZ2V0UHJvZmlsZUluZm8oKSwgaW5kZXhBcGkuZ2V0Q2FyZHMoKV0pXG4gIC50aGVuKChbcmVzVXNlciwgcmVzQ2FyZF0pID0+IHtcbiAgICBjdXJyZW50VXNlcklkID0gcmVzVXNlci5faWQ7XG4gICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzVXNlcik7XG4gICAgcHJvZmlsZUluZm8uc2V0VXNlckF2YXRhcihyZXNVc2VyKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJDb250ZW50KHJlc0NhcmQsIGN1cnJlbnRVc2VySWQpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG5cbmNvbnN0IHBob3RvQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfcGhvdG9cIik7XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSwgdXNlcikgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGRhdGEsXG4gICAgdXNlcklkOiB1c2VyLFxuICAgIHRlbXBsYXRlU2VsZWN0b3I6IFwiLmVsZW1lbnRzLXRlbXBsYXRlXCIsXG5cbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBob3RvQ2FyZFBvcHVwLm9wZW4oZGF0YSk7XG4gICAgfSxcblxuICAgIGhhbmRsZUxpa2VDYXJkOiAoY2FyZElkKSA9PiB7XG4gICAgICBpbmRleEFwaVxuICAgICAgICAubGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZC5yZW5kZXJMaWtlcyhyZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfSxcblxuICAgIGhhbmRsZVJlbW92ZUNhcmRMaWtlOiAoY2FyZElkKSA9PiB7XG4gICAgICBpbmRleEFwaVxuICAgICAgICAucmVtb3ZlTGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZC5yZW5kZXJMaWtlcyhyZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfSxcblxuICAgIGhhbmRsZURlbGV0ZUNhcmQ6IChjYXJkSUQsIGNhcmRFbGVtZW50KSA9PiB7XG4gICAgICBwb3B1cENhcmREZWxldGUub3Blbldhcm5pbmcoY2FyZElELCBjYXJkRWxlbWVudCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59O1xuXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtLCB1c2VySWQpID0+IHtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtLCB1c2VySWQpKTtcbiAgICB9LFxuICB9LFxuICBcIi5lbGVtZW50c1wiXG4pO1xuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHNlbGVjdG9yVXNlck5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgc2VsZWN0b3JVc2VyRGVzY3JpcHRpb246IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG4gIHNlbGVjdG9yVXNlckF2YXRhcjogXCIucHJvZmlsZV9fcGhvdG9cIixcbn0pO1xuXG5jb25zdCBwb3B1cEZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfZWRpdF9wcm9maWxlXCIsIHtcbiAgc3VibWl0Q2FsbGJhY2s6IChkYXRhKSA9PlxuICAgIGluZGV4QXBpXG4gICAgICAucGF0Y2hQcm9maWxlSW5mbyhkYXRhKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgICBwb3B1cEZvcm1Qcm9maWxlLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpLFxufSk7XG5cbmJ1dHRvbkVkaXRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwRm9ybVByb2ZpbGUub3BlbigpO1xuICBwb3B1cEZvcm1Qcm9maWxlLnNldElucHV0VmFsdWVzKHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCkpO1xuICB2YWxpZGF0aW9uRm9ybVtcImZvcm0tcHJvZmlsZVwiXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEZvcm1BZGRDYXJkcyA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2FkZF9waG90b1wiLCB7XG4gIHN1Ym1pdENhbGxiYWNrOiAoZGF0YSkgPT5cbiAgICBpbmRleEFwaVxuICAgICAgLnBvc3ROZXdDYXJkKGRhdGEpXG4gICAgICAudGhlbigobmV3Q2FyZCkgPT4ge1xuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQobmV3Q2FyZCwgY3VycmVudFVzZXJJZCkpO1xuICAgICAgICBwb3B1cEZvcm1BZGRDYXJkcy5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKSxcbn0pO1xuXG5idXR0b25BZGRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwRm9ybUFkZENhcmRzLm9wZW4oKTtcbiAgdmFsaWRhdGlvbkZvcm1bXCJmb3JtLXBob3RvXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwQXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2VkaXRfYXZhdGFyXCIsIHtcbiAgc3VibWl0Q2FsbGJhY2s6IChkYXRhKSA9PlxuICAgIGluZGV4QXBpXG4gICAgICAucGF0Y2hBdmF0YXIoZGF0YSlcbiAgICAgIC50aGVuKChyZXNVc2VyKSA9PiB7XG4gICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJBdmF0YXIocmVzVXNlcik7XG4gICAgICAgIHBvcHVwQXZhdGFyRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKSxcbn0pO1xuXG5wb3B1cEF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEF2YXRhckZvcm0ub3BlbigpO1xuICB2YWxpZGF0aW9uRm9ybVtcImZvcm0tYXZhdGFyXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwQ2FyZERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhEZWxldGUoXCIucG9wdXBfZGVsZXRlX3Bob3RvXCIsIHtcbiAgc3VibWl0Q2FsbGJhY2s6IChpZCwgY2FyZCkgPT4ge1xuICAgIGluZGV4QXBpXG4gICAgICAuZGVsZXRlQ2FyZEFwaShpZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgIHBvcHVwQ2FyZERlbGV0ZS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSxcbn0pO1xuXG5waG90b0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBGb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBGb3JtQWRkQ2FyZHMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBDYXJkRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHZhbGlkYXRpb25Gb3JtID0ge307XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGRhdGEpID0+IHtcbiAgY29uc3QgbGlzdEZvcm0gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZGF0YS5mb3JtU2VsZWN0b3IpKTtcbiAgbGlzdEZvcm0uZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGF0YSwgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcblxuICAgIHZhbGlkYXRpb25Gb3JtW2Zvcm1OYW1lXSA9IGZvcm1WYWxpZGF0b3I7XG4gICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcbmVuYWJsZVZhbGlkYXRpb24oZm9ybVZhbGlkYXRpb24pO1xuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCLQkNGA0YXRi9C3XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMXCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnXCIsXG4gIH0sXG5dO1xuXG5jb25zdCBmb3JtVmFsaWRhdGlvbiA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvbl9hY3Rfc3VibWl0XCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gIGVycm9yOiBcIi5wb3B1cF9faXRlbS1lcnJvclwiLFxufTtcblxuXG5jb25zdCBhcGlSZXMgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYzXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBhdXRob3JpemF0aW9uOiBcImQxZDU3YTEzLTQ1ODQtNDQyYi1hMDJhLTc4ZmM0NzU2ZTc2M1wiLFxuICB9XG59XG5cbmV4cG9ydCB7IGluaXRpYWxDYXJkcywgZm9ybVZhbGlkYXRpb24sIGFwaVJlcyB9O1xuIl0sIm5hbWVzIjpbIkFwaSIsImNvbmZpZyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJrZXkiLCJ2YWx1ZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjb25jYXQiLCJzdGF0dXMiLCJfdGhpcyIsImZldGNoIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJfY2hlY2tSZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJfdGhpczIiLCJfcmVmIiwiX3RoaXMzIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiX3RoaXM0IiwiYXZhdGFyIiwiX3RoaXM1IiwibGluayIsImNhcmRJZCIsIl90aGlzNiIsIl90aGlzNyIsIl90aGlzOCIsIkNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVSZW1vdmVDYXJkTGlrZSIsInRlbXBsYXRlU2VsZWN0b3IiLCJ1c2VySWQiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUNhcmQiLCJfbGlrZXNOdW1iZXIiLCJsaWtlcyIsImxlbmd0aCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2hhbmRsZVJlbW92ZUNhcmRMaWtlIiwiY2FyZERhdGEiLCJpZENhcmQiLCJfaWQiLCJfbmFtZSIsIl9saW5rIiwiX2RhdGFMaWtlcyIsIl9pZFVzZXJDYXJkIiwib3duZXIiLCJfdXNlcklkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRFbGVtZW50VGl0bGUiLCJfY2FyZEVsZW1lbnRQaWN0dXJlIiwiX2NhcmRFbGVtZW50TGlrZSIsIl9jYXJkRWxlbWVudExpa2VzTnVtYmVyIiwiX2NhcmRFbGVtZW50RGVsZXRlIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJyZW5kZXJMaWtlcyIsInJlbW92ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInNvbWUiLCJsaWtlIiwiaXNMaWtlZCIsImNhcmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwibGlrZVBob3RvIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJfZm9ybSIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfZXJyb3IiLCJlcnJvciIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJ1c2VyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJzZWxlY3RvclVzZXJOYW1lIiwic2VsZWN0b3JVc2VyRGVzY3JpcHRpb24iLCJzZWxlY3RvclVzZXJBdmF0YXIiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZURlc2NyaXB0aW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2J1dHRvbkNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJzZWxlY3RvclBvcHVwIiwic3VibWl0Q2FsbGJhY2siLCJzdWJtaXRDYWxsYmFja1RleHQiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiY2FsbCIsImlucHV0IiwiaSIsIk9iamVjdCIsInZhbHVlcyIsIl9zdWJtaXRDYWxsYmFjayIsInJlbmRlckxvYWRpbmciLCJhcHBseSIsImFyZ3VtZW50cyIsImZpbmFsbHkiLCJfZm9ybVN1Ym1pdCIsIl9zdWJtaXRCdG4iLCJfc3VibWl0QnRuVGV4dCIsIl9pbnB1dFZhbHVlcyIsInJlc2V0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwidW5kZWZpbmVkIiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcGhvdG9DYXJkIiwiX3RleHRDYXJkIiwiUG9wdXBXaXRoRGVsZXRlIiwiX2J1dHRvblN1Ym1pdCIsImN1cnJlbnRVc2VySWQiLCJidXR0b25FZGl0T3BlbiIsImJ1dHRvbkFkZE9wZW4iLCJwb3B1cEF2YXRhciIsImluZGV4QXBpIiwiYWxsIiwiZ2V0UHJvZmlsZUluZm8iLCJnZXRDYXJkcyIsIl9yZWYyIiwicmVzVXNlciIsInJlc0NhcmQiLCJwcm9maWxlSW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNhcmRTZWN0aW9uIiwicmVuZGVyQ29udGVudCIsInBob3RvQ2FyZFBvcHVwIiwiY3JlYXRlQ2FyZCIsIm9wZW4iLCJsaWtlQ2FyZCIsInJlbW92ZUxpa2VDYXJkIiwiY2FyZElEIiwicG9wdXBDYXJkRGVsZXRlIiwib3Blbldhcm5pbmciLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicG9wdXBGb3JtUHJvZmlsZSIsInBhdGNoUHJvZmlsZUluZm8iLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwidmFsaWRhdGlvbkZvcm0iLCJyZXNldFZhbGlkYXRpb24iLCJwb3B1cEZvcm1BZGRDYXJkcyIsInBvc3ROZXdDYXJkIiwibmV3Q2FyZCIsInBvcHVwQXZhdGFyRm9ybSIsInBhdGNoQXZhdGFyIiwiZGVsZXRlQ2FyZEFwaSIsImRlbGV0ZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImVycm9yQ2xhc3MiLCJmb3JtRWxlbWVudCIsImZvcm1WYWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9